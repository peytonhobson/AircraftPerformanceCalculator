{"ast":null,"code":"import { AccountService } from '@app/services/account.service';\nimport { ApiService } from '@app/services/api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/services/account.service\";\nimport * as i2 from \"@app/services/api.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@fortawesome/angular-fontawesome\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\n\nconst _c0 = function () {\n  return [\"fas\", \"user\"];\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"display\": a0\n  };\n};\n\nexport let TopNavUserComponent = /*#__PURE__*/(() => {\n  class TopNavUserComponent {\n    constructor(accountService, apiService) {\n      this.accountService = accountService;\n      this.apiService = apiService;\n      this.displayAdmin = 'none';\n    }\n\n    ngOnInit() {\n      this.apiService.get(`users/${localStorage.getItem('username')}`).subscribe(res => {\n        if (res.data.user.role === 'ROLE_ADMIN') {\n          this.displayAdmin = 'block';\n        }\n      }, error => {\n        console.log('User is not Admin');\n      });\n      this.user = localStorage.getItem('username');\n    }\n\n    logout() {\n      this.accountService.logout();\n    }\n\n  }\n\n  TopNavUserComponent.ɵfac = function TopNavUserComponent_Factory(t) {\n    return new (t || TopNavUserComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.ApiService));\n  };\n\n  TopNavUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TopNavUserComponent,\n    selectors: [[\"sb-top-nav-user\"]],\n    decls: 13,\n    vars: 6,\n    consts: [[\"ngbDropdown\", \"\", \"placement\", \"bottom-right\", \"display\", \"dynamic\", 1, \"nav-item\", \"dropdown\", \"dropdown-user\", \"no-caret\"], [\"id\", \"userDropdown\", \"ngbDropdownToggle\", \"\", \"data-cy\", \"userMenu\", \"role\", \"button\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [3, \"icon\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownUser\", 1, \"dropdown-menu\", \"dropdown-menu-right\"], [1, \"dropdown-header\"], [1, \"dropdown-user-details\"], [1, \"dropdown-user-details-name\"], [\"routerLink\", \"/dashboard/admin\", 1, \"dropdown-item\", 3, \"ngStyle\"], [1, \"dropdown-divider\"], [\"routerLink\", \"/auth/login\", 1, \"dropdown-item\", 3, \"click\"]],\n    template: function TopNavUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"li\", 0)(1, \"a\", 1);\n        i0.ɵɵelement(2, \"fa-icon\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"h6\", 4)(5, \"div\", 5)(6, \"h3\", 6);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"a\", 7);\n        i0.ɵɵtext(9, \"Admin\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"div\", 8);\n        i0.ɵɵelementStart(11, \"a\", 9);\n        i0.ɵɵlistener(\"click\", function TopNavUserComponent_Template_a_click_11_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(12, \"Logout\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"icon\", i0.ɵɵpureFunction0(3, _c0));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.user);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(4, _c1, ctx.displayAdmin));\n      }\n    },\n    directives: [i3.NgbDropdown, i3.NgbDropdownToggle, i4.FaIconComponent, i3.NgbDropdownMenu, i5.RouterLinkWithHref, i6.NgStyle],\n    styles: [\"#userDropdown[_ngcontent-%COMP%]{cursor:pointer}\"],\n    changeDetection: 0\n  });\n  return TopNavUserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}