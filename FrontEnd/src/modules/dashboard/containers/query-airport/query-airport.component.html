<layout-dashboard><sb-dashboard-head title="Airport Information" [hideBreadcrumbs]="true"></sb-dashboard-head>

  <div class="row d-flex justify-content-center">
    <div class="col-lg-5 text-center p-1">
      <div class="card text-center ">
        <div class="card-header bg-dark text-center">
          Input Runway Info
        </div>
        <div class="card-body border border-dark">
          <div class="row d-flex justify-content-center">
            <form [formGroup]="form" (ngSubmit)="findRunways()" class="text-center">
              <div class="form-group " [formGroup]="form">
                <label for="airportInput">Enter Airport ID:</label>
                <div class="row d-flex justify-content-center">
                  <input type="text" formControlName="airportInput" id="airportID" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['airportInput'].errors }" />
                  <div *ngIf="submitted && f['airportInput'].errors" class="invalid-feedback">
                    <div *ngIf="f['airportInput'].errors['required']">Airport ID is required</div>
                    <div *ngIf="f['airportInput'].errors['maxlength']">Airport ID must be less than 5 characters.</div>
                    <div *ngIf="f['airportInput'].errors['minlength']">Airport ID must be at least 2 characters</div>
                  </div>
                </div>
              </div> 
              <div class="form-group justify-content-center" [formGroup]="form">
                <button type="submit" [disabled]="runwaysLoading"  id="FindRunwaysButton" class="btn btn-outline-dark active text-center">
                <span *ngIf="runwaysLoading" class="spinner-border spinner-border-sm mr-1"></span>
                  Find Runways
                  </button>
              </div>  
            </form>
            </div>
            <div class="row d-flex justify-content-center">
              <div class="col-md-7">
                <label>Select Takeoff Runway:</label>
                <div class="card border-1 mb-4" id="runway-button-group"></div>
              </div>  
              <div class= "col-md-5">
                <label for=RunwaySideButton1>Select Runway Starting Side: </label>
                <div class="blank-card mt-2">
                    <button type="button" id="RunwaySideButton1" class="btn btn-outline-dark text-center side-button">Side 1</button>
                    <button type="button" id="RunwaySideButton2" class="btn btn-outline-dark text-center side-button">Side 2</button>
                </div>
              </div>
            </div>
          <button type="button" id="QueryButton" class="btn btn-outline-dark active text-center" (click)="queryAirport()">Query</button>
        </div>
      </div>  
    </div>  

    <!-- TODO: Make this output as angular variable mj -->
    <div class="col-lg-5">
      <div class="row d-flex justify-content-center">
        <div id="airportID-output">
          <div class="w-100 shadow-lg text-center bg-dark rounded p-2" id="IDContainer">
            <h2 id="AirportIDLabel" class="output-label">Airport ID: </h2>
          </div>
        </div>
      </div>
      <div class="row d-flex justify-content-center">
        <div class="col-lg-4">
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Temperature</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Pressure Altitude</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Precipitation</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Head Wind</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Runway Length</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Runway Type</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-dark rounded p-3">
              <h3 class="output-label">Slope</h3>
            </div>
          </div> 
        </div>
        <div class="col-lg-4">
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="temp-output">{{ runwayConditions.temp }} &deg;C</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="pressure-altitude-output">{{ runwayConditions.pressureAltitude }} ft</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="precipitation-output">{{ runwayConditions.precipitation }} in</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="headwind-output">{{ runwayConditions.headWind }} kts</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="runway-length-output">{{ runwayConditions.runwayLength }} ft</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="runway-type-output">{{ runwayConditions.runwayType }}&nbsp;</h3>
            </div>
          </div> 
          <div class="row d-flex justify-content-center">
            <div class="shadow-lg text-center bg-white rounded p-3">
              <h3 id="slope-output">{{ runwayConditions.slope }}&deg;</h3>
            </div>
          </div> 
        </div>
      </div>
    </div>
  </div>
</layout-dashboard>
